** System V 消息队列

*** 创建队列

创建没啥好说的，就是两个 flag：找不到 key 对应的队列时要不要创建，要不要唯一创建。

*** 发送和接收

注意 ~msgrcv()~ 读取信息之后会在队列里面删除该信息。

*** 控制消息队列

可以删除/获取副本/更新已知的消息队列。

*** 消息队列相关联结构

*** 消息队列相关的限制

系统级限制：

1. 能创建的队列标识数目；
2. 单条信息最多能写入的字节数；
3. 每个队列最多能写入的字节数；

*** 显示系统中所有的消息队列

*** 消息队列的优缺点

优点： *有 msgtype 可以过滤消息或者根据优先级处理消息。*

缺点：

1. 通过标识符引用，无法使用基于文件描述符的 I/O 技术（后面的章节会说到）；
2. 使用 key 来标识队列增加复杂性（但是其实我不明白为什么会增加复杂性）；
3. 队列是无连接的，所以内核不维护引用队列的进程数(所以不知道什么时候可以安全删除队列)；

总结就是：尽量别用 System V 的队列。
