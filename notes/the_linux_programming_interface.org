* [[https://book.douban.com/subject/25809330/][Linux/UNIX系统编程手册]]

** 历史和标准

** 基本概念

** 系统编程概念

*** 系统调用

    1. 系统调用将处理器从用户态切换为核心态；
    2. 系统调用的组成是固定的，有唯一的、对外不可见的数字标识；
    3. 每个系统调用都有参数规范用户空间与内核空间之间的信息传递；

       某种意义上来说，C 函数中系统调用相关的函数，都是 wrapper，它们封装了对应的系统调用，使用这些函数的时候，会有两次次用户态跟核心态的切换。

*** 库函数

*** glibc

    1. 可以用 ldd 列出依赖的库；

*** 错误处理

    少数系统调用(比如 [[http://man7.org/linux/man-pages/man2/getpriority.2.html][getpriority()]] )调用成功也会返回 -1。

*** 可移植性问题

**** 特性测试宏

     通过定义特性测试宏，暴露对应特定标准的定义。

**** 系统数据类型

*** 练习

    =reboot= 第二个参数的 magic 数值转换成十六进制之后，其实就是 Linus 和他女儿的生日，见[[https://stackoverflow.com/questions/4808748/magic-numbers-of-the-linux-reboot-system-call][这个回答]]。

